<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for view2\view2_test.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">view2/</a> view2_test.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>27/27</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/0</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>7/7</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>27/27</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">      'use strict';
&nbsp;
      describe('myApp.view2 module', function() {
      var view2Ctrl,mockScope = {},$httpBackend,promise,deferred,rootScope;
&nbsp;
      beforeEach(module('myApp.view2'));
&nbsp;
      beforeEach(inject(function($injector,$itunesServiceProvider,$rootScope) {
      rootScope = $rootScope;
      // Set up the mock http service responses
      $httpBackend = $injector.get('$httpBackend');  
&nbsp;
      // The $controller service is used to create instances of controllers
      var $controller = $injector.get('$controller');
&nbsp;
      //spec body
      view2Ctrl = $controller('View2Ctrl',{ 
      '$scope' : mockScope,
      '$itunesServiceProvider':$itunesServiceProvider
      });
      }));
&nbsp;
      describe('view2 controller', function(){
&nbsp;
      it('should be defined', inject(function($controller) {
      expect(view2Ctrl).toBeDefined();
      }));
&nbsp;
      it('scope should be properly initialized', function() {
      expect(mockScope.songList.length).toBe(0);
      expect(mockScope.error).toBe(false);
      expect(mockScope.errorText).toBe('');
      });
&nbsp;
      it('search with special characters', function() {
      mockScope.searchSongs('$$^');
      expect(mockScope.songList.length).toBe(0);
      expect(mockScope.error).toBe(true);
      expect(mockScope.errorText).toBe('Please enter a proper search term');
      });
&nbsp;
      it('search with normal string', function() {
      // backend definition common for all tests
      $httpBackend.expect('JSONP','https://itunes.apple.com/search?term=Justin+Bieber&amp;callback=JSON_CALLBACK')
                          .respond({  
      "resultCount":2,
      "results":[  
      {  
      "wrapperType":"track",
      "kind":"song",
      "artistId":320569549,
      "collectionId":1049605561,
      "trackId":1049605634,
      "artistName":"Justin Bieber",
      "collectionName":"Purpose (Deluxe)",
      "trackName":"Love Yourself",
      "collectionCensoredName":"Purpose (Deluxe)",
      "trackCensoredName":"Love Yourself",
      "artistViewUrl":"https://itunes.apple.com/us/artist/justin-bieber/id320569549?uo=4",
      "collectionViewUrl":"https://itunes.apple.com/us/album/love-yourself/id1049605561?i=1049605634&amp;uo=4",
      "trackViewUrl":"https://itunes.apple.com/us/album/love-yourself/id1049605561?i=1049605634&amp;uo=4",
      "previewUrl":"http://a1268.phobos.apple.com/us/r30/Music69/v4/8d/89/89/8d898987-2771-877f-b06c-27813f13c79f/mzaf_6954744275616470123.plus.aac.p.m4a",
      "artworkUrl30":"http://is3.mzstatic.com/image/thumb/Music6/v4/0e/38/b4/0e38b405-ae2c-1da4-5959-866f7abb110e/source/30x30bb.jpg",
      "artworkUrl60":"http://is3.mzstatic.com/image/thumb/Music6/v4/0e/38/b4/0e38b405-ae2c-1da4-5959-866f7abb110e/source/60x60bb.jpg",
      "artworkUrl100":"http://is3.mzstatic.com/image/thumb/Music6/v4/0e/38/b4/0e38b405-ae2c-1da4-5959-866f7abb110e/source/100x100bb.jpg",
      "collectionPrice":13.99,
      "trackPrice":1.29,
      "releaseDate":"2015-11-09T08:00:00Z",
      "collectionExplicitness":"notExplicit",
      "trackExplicitness":"notExplicit",
      "discCount":1,
      "discNumber":1,
      "trackCount":18,
      "trackNumber":5,
      "trackTimeMillis":233719,
      "country":"USA",
      "currency":"USD",
      "primaryGenreName":"Pop",
      "isStreamable":true
      },
      {  
      "wrapperType":"track",
      "kind":"song",
      "artistId":320569549,
      "collectionId":1049605561,
      "trackId":1049605633,
      "artistName":"Justin Bieber",
      "collectionName":"Purpose (Deluxe)",
      "trackName":"Sorry",
      "collectionCensoredName":"Purpose (Deluxe)",
      "trackCensoredName":"Sorry",
      "artistViewUrl":"https://itunes.apple.com/us/artist/justin-bieber/id320569549?uo=4",
      "collectionViewUrl":"https://itunes.apple.com/us/album/sorry/id1049605561?i=1049605633&amp;uo=4",
      "trackViewUrl":"https://itunes.apple.com/us/album/sorry/id1049605561?i=1049605633&amp;uo=4",
      "previewUrl":"http://a1814.phobos.apple.com/us/r30/Music6/v4/06/34/f8/0634f8ea-ceee-e502-a376-5c967dd6b4a1/mzaf_7987909253469967967.plus.aac.p.m4a",
      "artworkUrl30":"http://is3.mzstatic.com/image/thumb/Music6/v4/0e/38/b4/0e38b405-ae2c-1da4-5959-866f7abb110e/source/30x30bb.jpg",
      "artworkUrl60":"http://is3.mzstatic.com/image/thumb/Music6/v4/0e/38/b4/0e38b405-ae2c-1da4-5959-866f7abb110e/source/60x60bb.jpg",
      "artworkUrl100":"http://is3.mzstatic.com/image/thumb/Music6/v4/0e/38/b4/0e38b405-ae2c-1da4-5959-866f7abb110e/source/100x100bb.jpg",
      "collectionPrice":13.99,
      "trackPrice":1.29,
      "releaseDate":"2015-10-23T07:00:00Z",
      "collectionExplicitness":"notExplicit",
      "trackExplicitness":"notExplicit",
      "discCount":1,
      "discNumber":1,
      "trackCount":18,
      "trackNumber":4,
      "trackTimeMillis":200790,
      "country":"USA",
      "currency":"USD",
      "primaryGenreName":"Pop",
      "isStreamable":true
      }]}
      );
      mockScope.searchSongs('Justin Bieber');
      $httpBackend.flush();
      expect(mockScope.songList.length).toBe(2);      
      expect(mockScope.error).toBe(false);
      expect(mockScope.errorText).toBe('');      
      });
      });
      });</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sun Sep 10 2017 23:54:22 GMT+0530 (India Standard Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
